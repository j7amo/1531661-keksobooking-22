{"version":3,"sources":["webpack://keksobooking/./node_modules/lodash/_Symbol.js","webpack://keksobooking/./node_modules/lodash/_baseGetTag.js","webpack://keksobooking/./node_modules/lodash/_baseTrim.js","webpack://keksobooking/./node_modules/lodash/_freeGlobal.js","webpack://keksobooking/./node_modules/lodash/_getRawTag.js","webpack://keksobooking/./node_modules/lodash/_objectToString.js","webpack://keksobooking/./node_modules/lodash/_root.js","webpack://keksobooking/./node_modules/lodash/_trimmedEndIndex.js","webpack://keksobooking/./node_modules/lodash/debounce.js","webpack://keksobooking/./node_modules/lodash/isObject.js","webpack://keksobooking/./node_modules/lodash/isObjectLike.js","webpack://keksobooking/./node_modules/lodash/isSymbol.js","webpack://keksobooking/./node_modules/lodash/now.js","webpack://keksobooking/./node_modules/lodash/toNumber.js","webpack://keksobooking/webpack/bootstrap","webpack://keksobooking/webpack/runtime/compat get default export","webpack://keksobooking/webpack/runtime/define property getters","webpack://keksobooking/webpack/runtime/global","webpack://keksobooking/webpack/runtime/hasOwnProperty shorthand","webpack://keksobooking/./source/js/util.js","webpack://keksobooking/./source/js/forms.js","webpack://keksobooking/./source/js/map.js","webpack://keksobooking/./source/js/similar-objects.js","webpack://keksobooking/./source/js/main.js","webpack://keksobooking/./source/js/server-api.js"],"names":["Symbol","module","exports","getRawTag","objectToString","symToStringTag","toStringTag","undefined","value","Object","trimmedEndIndex","reTrimStart","string","slice","replace","freeGlobal","g","objectProto","prototype","hasOwnProperty","nativeObjectToString","toString","isOwn","call","tag","unmasked","e","result","freeSelf","self","root","Function","reWhitespace","index","length","test","charAt","isObject","now","toNumber","nativeMax","Math","max","nativeMin","min","func","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","args","thisArg","apply","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","arguments","this","clearTimeout","cancel","flush","type","baseGetTag","isObjectLike","Date","baseTrim","isSymbol","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","other","valueOf","isBinary","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","defineProperty","enumerable","get","globalThis","window","obj","prop","isPositiveNumber","number","isNaN","getRandomElement","array","rangeStart","rangeEnd","Number","round","random","getRandomInt","FILE_TYPES","minOfferPrices","bungalow","flat","house","palace","numberOfRoomsCapacity","1","2","3","100","mapFiltersForm","document","querySelector","mapFiltersSelects","querySelectorAll","mapFiltersFieldset","mapFiltersCheckboxes","adForm","adFormTitle","adFormFieldsets","addressInputField","adFormReset","offerType","offerPrice","offerCheckIn","offerCheckInOptions","offerCheckOut","offerCheckOutOptions","offerNumberOfRooms","offerCapacity","offerCapacityOptions","avatarChooser","avatarPreview","photosChooser","photosPreview","setOfferTypeToPriceDependency","placeholder","addInvalidFormFieldNumberHandler","setCheckOutToCheckInDependency","forEach","option","selected","setNumberOfRoomsCapacityDependency","disabled","field","minNumber","maxNumber","addEventListener","validity","rangeUnderflow","setCustomValidity","rangeOverflow","valueMissing","initializeAddressInputField","mainPinMarker","readOnly","latitude","getLatLng","lat","toFixed","longitude","lng","resetForms","reset","src","hasChildNodes","innerHTML","addImageUploadChangeHandler","fileChooser","preview","file","files","fileName","name","toLowerCase","some","extension","endsWith","reader","FileReader","tagName","previewImage","createElement","style","width","height","append","readAsDataURL","MAIN_PIN_LATITUDE","MAIN_PIN_LONGITUDE","mapCanvas","additionalMarkers","mainPinIcon","L","icon","iconUrl","iconSize","iconAnchor","MAIN_PIN_WIDTH","additionalPinIcon","ADDITIONAL_PIN_WIDTH","marker","draggable","addOffersMarkersToMap","popupsWithCoordinates","map","remove","push","addTo","bindPopup","resetMainPinMarker","setLatLng","template","content","offerTypes","createMapOfPopupsWithCoordinates","offers","Map","offer","popup","cloneNode","popupTitle","popupTextAddress","popupTextPrice","popupType","popupTextCapacity","popupTextTime","popupFeatures","popupDescription","popupPhotos","popupPhotoFirst","popupAvatar","title","offerTitle","address","offerAddress","price","rooms","offerRooms","guests","offerGuests","checkin","offerCheckin","checkout","offerCheckout","features","offerFeatures","description","offerDescription","photos","offerPhotos","author","avatar","offerAvatar","generatedFeatures","textContent","clonedFeature","element","className","includes","isIncluded","photosContainer","photoTemplate","fragment","createDocumentFragment","photo","popupPhoto","createPhotos","createPopup","location","set","minLength","maxLength","tooShort","tooLong","classList","add","setView","tileLayer","attribution","initializeMap","whenReady","cb","onSuccess","onFail","on","evt","newCoordinatesObject","target","preventDefault","form","fetch","method","credentials","body","FormData","then","response","ok","json","Error","status","statusText","catch","sendDataToServer","mainContainer","successMessage","appendChild","showSuccessMessage","failMessage","errorButton","showFailMessage","select","addMapFilterSelectChangeHandler","checkbox","addMapFilterInputChangeHandler","addMapFiltersChangeHandler","filtersValues","input","checked","getFiltersValues","filteredOffers","filter","hasAllFiltersValues","feature","filterOffers","mapOfPopups","message","alertContainer","zIndex","position","left","top","right","padding","fontSize","textAlign","backgroundColor","showAlert","err","randomOffers","elementsNumber","randomElements","randomElement","getFixedLengthArrayOfRandomElements"],"mappings":"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","file":"main.bundle.js","sourcesContent":["var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// модуль с утилитарными функциями\n\nconst isPositiveNumber = (number) => !isNaN(number) && number >= 0;\n\nconst getRandomInt = (rangeStart = 0, rangeEnd = 0) => {\n  if (!isPositiveNumber(rangeStart) || !isPositiveNumber(rangeEnd)) {\n    return 0;\n  }\n\n  if (rangeEnd <= rangeStart) {\n    return rangeStart;\n  }\n\n  return Number(rangeStart) + Math.round(Math.random() * (rangeEnd - rangeStart));\n};\n\nconst getRandomFloat = (rangeStart = 0, rangeEnd = 0, digitsAfterPoint = 2) => {\n  if (!isPositiveNumber(rangeStart) || !isPositiveNumber(rangeEnd) || !isPositiveNumber(digitsAfterPoint)) {\n    return 0;\n  }\n\n  if (rangeEnd <= rangeStart) {\n    return rangeStart;\n  }\n\n  return (Number(rangeStart) + Math.random() * (rangeEnd - rangeStart)).toFixed(digitsAfterPoint);\n};\n\nconst getRandomElement = (array) => {\n  return array[getRandomInt(0, array.length - 1)];\n};\n\nconst getRandomLengthArray = (array) => {\n  const randomLengthArrayElements = [];\n  const randomLength = getRandomInt(1, array.length);\n\n  while(randomLengthArrayElements.length < randomLength) {\n    const randomElement = getRandomElement(array);\n\n    if (!randomLengthArrayElements.includes(randomElement)) {\n      randomLengthArrayElements.push(randomElement);\n    }\n  }\n  return randomLengthArrayElements;\n};\n\nconst getFixedLengthArrayOfRandomElements = (array, elementsNumber) => {\n  const randomElements = [];\n\n  while(randomElements.length < elementsNumber) {\n    const randomElement = getRandomElement(array);\n\n    if (!randomElements.includes(randomElement)) {\n      randomElements.push(randomElement);\n    }\n  }\n  return randomElements;\n};\n\nexport { getRandomInt, getRandomFloat, getRandomElement, getRandomLengthArray, getFixedLengthArrayOfRandomElements };\n","const FRACTION_DIGITS = 5;\nconst FILE_TYPES = ['gif', 'jpg', 'jpeg', 'png'];\nconst PREVIEW_IMAGE_WIDTH = '70px';\nconst PREVIEW_IMAGE_HEIGHT = '70px';\n\nconst minOfferPrices = {\n  bungalow: 0,\n  flat: 1000,\n  house: 5000,\n  palace: 10000,\n};\n\nconst numberOfRoomsCapacity = {\n  1: 1,\n  2: 2,\n  3: 3,\n  100: 0,\n};\n\nconst mapFiltersForm = document.querySelector('.map__filters');\nconst mapFiltersSelects = mapFiltersForm.querySelectorAll('select');\nconst mapFiltersFieldset = mapFiltersForm.querySelector('fieldset');\nconst mapFiltersCheckboxes = mapFiltersFieldset.querySelectorAll('input');\nconst adForm = document.querySelector('.ad-form');\nconst adFormTitle = adForm.querySelector('input[name=\"title\"]');\nconst adFormFieldsets = adForm.querySelectorAll('fieldset');\nconst addressInputField = adForm.querySelector('input[name = \"address\"]');\nconst adFormReset = adForm.querySelector('.ad-form__reset');\nconst offerType = adForm.querySelector('select[name=\"type\"]');\nconst offerPrice = adForm.querySelector('input[name=\"price\"]');\nconst offerCheckIn = adForm.querySelector('select[name=\"timein\"]');\nconst offerCheckInOptions = offerCheckIn.querySelectorAll('option');\nconst offerCheckOut = adForm.querySelector('select[name=\"timeout\"]');\nconst offerCheckOutOptions = offerCheckOut.querySelectorAll('option');\nconst offerNumberOfRooms = adForm.querySelector('select[name=\"rooms\"]');\nconst offerCapacity = adForm.querySelector('select[name=\"capacity\"]');\nconst offerCapacityOptions = offerCapacity.querySelectorAll('option');\nconst avatarChooser = adForm.querySelector('input[id=\"avatar\"]');\nconst avatarPreview = adForm.querySelector('.ad-form-header__preview img');\nconst photosChooser = adForm.querySelector('input[id=\"images\"]');\nconst photosPreview = adForm.querySelector('.ad-form__photo');\n\nconst setOfferTypeToPriceDependency = () => {\n  offerPrice.min = minOfferPrices[offerType.value];\n  offerPrice.placeholder = minOfferPrices[offerType.value];\n  addInvalidFormFieldNumberHandler(offerPrice, offerPrice.min, offerPrice.max);\n};\n\nconst setCheckOutToCheckInDependency = () => {\n  offerCheckOutOptions.forEach((option) => {\n    if (option.value === offerCheckIn.value) {\n      option.selected = true;\n    }\n  });\n};\n\nconst setCheckInToCheckOutDependency = () => {\n  offerCheckInOptions.forEach((option) => {\n    if (option.value === offerCheckOut.value) {\n      option.selected = true;\n    }\n  });\n};\n\nconst setNumberOfRoomsCapacityDependency = () => {\n  offerCapacity.value = numberOfRoomsCapacity[offerNumberOfRooms.value];\n  offerCapacityOptions.forEach((option) => {\n    option.disabled = false;\n  })\n\n  switch (Number(offerNumberOfRooms.value)) {\n    case 1:\n      offerCapacityOptions.forEach((option) => {\n        if (option.value !== '1') {\n          option.disabled = true;\n        }\n      });\n      break;\n    case 2:\n      offerCapacityOptions.forEach((option) => {\n        if (option.value !== '1' && option.value !== '2') {\n          option.disabled = true;\n        }\n      });\n      break;\n    case 3:\n      offerCapacityOptions.forEach((option) => {\n        if (option.value !== '1' && option.value !== '2' && option.value !== '3') {\n          option.disabled = true;\n        }\n      });\n      break;\n    case 100:\n      offerCapacityOptions.forEach((option) => {\n        if (option.value !== '0') {\n          option.disabled = true;\n        }\n      });\n      break;\n  }\n};\n\nconst addInvalidFormFieldLengthHandler = (field, minLength, maxLength) => {\n  field.addEventListener('invalid', () => {\n    if (field.validity.tooShort) {\n      field.setCustomValidity(`Введите минимум ${minLength} символа(ов)`);\n    } else if (field.validity.tooLong) {\n      field.setCustomValidity(`Введите максимум ${maxLength} символа(ов)`);\n    } else if (field.validity.valueMissing) {\n      field.setCustomValidity('Обязательное поле');\n    } else {\n      field.setCustomValidity('');\n    }\n  });\n};\n\nconst addInvalidFormFieldNumberHandler = (field, minNumber, maxNumber) => {\n  field.addEventListener('invalid', () => {\n    if (field.validity.rangeUnderflow) {\n      field.setCustomValidity(`Стоимость должна начинаться от ${minNumber}`);\n    } else if (field.validity.rangeOverflow) {\n      field.setCustomValidity(`Стоимость не должна превышать ${maxNumber}`);\n    } else if (field.validity.valueMissing) {\n      field.setCustomValidity('Обязательное поле');\n    } else {\n      field.setCustomValidity('');\n    }\n  });\n};\n\nconst initializeForms = () => {\n  setOfferTypeToPriceDependency();\n  setCheckOutToCheckInDependency();\n  setNumberOfRoomsCapacityDependency();\n\n  addImageUploadChangeHandler(avatarChooser, avatarPreview);\n  addImageUploadChangeHandler(photosChooser, photosPreview);\n\n  offerType.addEventListener('change', () => {\n    setOfferTypeToPriceDependency();\n  });\n\n  offerCheckIn.addEventListener('change', () => {\n    setCheckOutToCheckInDependency();\n  });\n\n  offerCheckOut.addEventListener('change', () => {\n    setCheckInToCheckOutDependency();\n  });\n\n  offerNumberOfRooms.addEventListener('change', () => {\n    setNumberOfRoomsCapacityDependency();\n  });\n\n  addInvalidFormFieldLengthHandler(adFormTitle, adFormTitle.minLength, adFormTitle.maxLength);\n};\n\nconst getFiltersValues = () => {\n  const filtersValues = [];\n\n  mapFiltersSelects.forEach((select) => {\n    filtersValues.push(select.value);\n  });\n\n  mapFiltersCheckboxes.forEach((input) => {\n    if (input.checked) {\n      filtersValues.push(input.value);\n    }\n  });\n\n  return filtersValues;\n}\n\nconst enableAdForm = () => {\n  adForm.classList.remove('ad-form--disabled');\n  adFormFieldsets.forEach((element) => {\n    element.disabled = false;\n  });\n};\n\nconst enableMapFiltersForm = () => {\n  mapFiltersForm.classList.remove('map__filters--disabled');\n  mapFiltersSelects.forEach((element) => {\n    element.disabled = false;\n  });\n  mapFiltersFieldset.disabled = false;\n};\n\nconst disableForms = () => {\n  adForm.classList.add('ad-form--disabled');\n  adFormFieldsets.forEach((element) => {\n    element.disabled = true;\n  });\n  mapFiltersForm.classList.add('map__filters--disabled');\n  mapFiltersSelects.forEach((element) => {\n    element.disabled = true;\n  });\n  mapFiltersFieldset.disabled = true;\n};\n\nconst initializeAddressInputField = (mainPinMarker) => {\n  addressInputField.readOnly = true;\n  const latitude = mainPinMarker.getLatLng().lat.toFixed(FRACTION_DIGITS);\n  const longitude = mainPinMarker.getLatLng().lng.toFixed(FRACTION_DIGITS);\n  addressInputField.value = `${latitude}, ${longitude}`;\n};\n\nconst addMarkerMoveEndHandler = (pinMarker) => {\n  pinMarker.on('moveend', (evt) => {\n    let newCoordinatesObject = evt.target.getLatLng();\n    addressInputField.value = `${newCoordinatesObject.lat.toFixed(FRACTION_DIGITS)}, ${newCoordinatesObject.lng.toFixed(FRACTION_DIGITS)}`;\n  });\n};\n\nconst addAdFormSubmitHandler = (cb) => {\n  adForm.addEventListener('submit', (evt) => {\n    evt.preventDefault();\n    cb(adForm);\n  });\n};\n\nconst addMapFilterSelectChangeHandler = (cb) => {\n  mapFiltersSelects.forEach((select) => {\n    select.addEventListener('change', () => {\n      cb();\n    });\n  });\n};\n\nconst addMapFilterInputChangeHandler = (cb) => {\n  mapFiltersCheckboxes.forEach((checkbox) => {\n    checkbox.addEventListener('change', () => {\n      cb();\n    });\n  });\n};\n\nconst addMapFiltersChangeHandler = (cb) => {\n  addMapFilterSelectChangeHandler(cb);\n  addMapFilterInputChangeHandler(cb);\n}\n\nconst resetForms = () => {\n  mapFiltersForm.reset();\n  adForm.reset();\n  avatarPreview.src = 'img/muffin-grey.svg';\n  if (photosPreview.hasChildNodes()) {\n    photosPreview.innerHTML = '';\n  }\n}\n\nconst addAdFormResetHandler = (cb) => {\n  adFormReset.addEventListener('click', () => {\n    resetForms();\n    cb();\n  })\n};\n\nconst addImageUploadChangeHandler = (fileChooser, preview) => {\n  fileChooser.addEventListener('change', () => {\n    const file = fileChooser.files[0];\n    const fileName = file.name.toLowerCase();\n\n    const hasExtensionMatch = FILE_TYPES.some((extension) => {\n      return fileName.endsWith(extension);\n    });\n\n    if (hasExtensionMatch) {\n      const reader = new FileReader();\n\n      reader.addEventListener('load', () => {\n        if (preview.tagName === 'IMG') {\n          preview.src = reader.result;\n        } else {\n          const previewImage = document.createElement('img');\n          previewImage.style.width = PREVIEW_IMAGE_WIDTH;\n          previewImage.style.height = PREVIEW_IMAGE_HEIGHT;\n          previewImage.src = reader.result;\n          preview.append(previewImage);\n        }\n      });\n\n      reader.readAsDataURL(file);\n    }\n  });\n};\n\nexport {\n  initializeForms,\n  enableAdForm,\n  enableMapFiltersForm,\n  addMapFiltersChangeHandler,\n  getFiltersValues,\n  disableForms,\n  initializeAddressInputField,\n  addMarkerMoveEndHandler,\n  addAdFormSubmitHandler,\n  addAdFormResetHandler,\n  resetForms\n};\n","/* global L:readonly */\n// в этом модуле будем писать функции по работе с картой и связанными с ней объектами\nconst MAIN_PIN_WIDTH = 52;\nconst MAIN_PIN_HEIGHT = 52;\nconst ADDITIONAL_PIN_WIDTH = 52;\nconst ADDITIONAL_PIN_HEIGHT = 52;\nconst MAIN_PIN_LATITUDE = 35.65283;\nconst MAIN_PIN_LONGITUDE = 139.83947;\nconst MAP_ZOOM_LEVEL = 9;\n// найдём элемент, в котором разместим карту\nconst mapCanvas = document.querySelector('.map__canvas');\n\n// заведём массив для хранения маркеров (меток) для того, чтобы из него брать метки для добавления их на карту\n// и в нужный момент очищать массив (пригодится при удалении меток с карты в контексте фильтрации объявлений)\nconst additionalMarkers = [];\n\n// опишем главную метку\nconst mainPinIcon = L.icon({\n  iconUrl: '../img/main-pin.svg',\n  iconSize: [MAIN_PIN_WIDTH, MAIN_PIN_HEIGHT],\n  iconAnchor: [MAIN_PIN_WIDTH / 2, MAIN_PIN_HEIGHT],\n});\n\n// опишем доп. метку\nconst additionalPinIcon = L.icon({\n  iconUrl: '../img/pin.svg',\n  iconSize: [ADDITIONAL_PIN_WIDTH, ADDITIONAL_PIN_HEIGHT],\n  iconAnchor: [ADDITIONAL_PIN_WIDTH / 2, ADDITIONAL_PIN_HEIGHT],\n});\n\nconst mainPinMarker = L.marker(\n  {\n    lat: MAIN_PIN_LATITUDE,\n    lng: MAIN_PIN_LONGITUDE,\n  },\n  {\n    draggable: true,\n    icon: mainPinIcon,\n  },\n);\n\n// функция инициализации карты\n// По моей задумке эта функция делает следующее:\n// 1) создаёт объект карты\n// 2) создаёт слой карты с изображением и копирайтом\n// 3) размещает на карте главную метку\n// 4) возвращает массив с нужными нам для дальнейшей работы объектами (карта, главная метка и т.д.)\n// таким образом потребитель данной функции (разработчик) при её вызове получает рабочую карту (без меток объявлений, так как\n// этот функционал по смыслу должен быть прописан в другом модуле - similar-objects.js)\nconst initializeMap = () => {\n  const map = L.map(mapCanvas)\n    .setView({\n      lat: MAIN_PIN_LATITUDE,\n      lng: MAIN_PIN_LONGITUDE,\n    }, MAP_ZOOM_LEVEL);\n\n  L.tileLayer(\n    'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n    {\n      attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n    },\n  )\n    .addTo(map);\n  mainPinMarker.addTo(map);\n\n  return [map, mainPinMarker];\n};\n\n// функция добавления меток объявлений на карту\nconst addOffersMarkersToMap = (popupsWithCoordinates, map) => {\n\n  // добавим очистку меток перед нанесением на карту новых\n  if (additionalMarkers.length > 0) {\n    additionalMarkers.forEach((marker) => {\n      marker.remove();\n    })\n    additionalMarkers.length = 0;\n  }\n\n  popupsWithCoordinates.forEach((value, key) => {\n    const marker = L.marker(\n      {\n        lat: value.lat,\n        lng: value.lng,\n      },\n      {\n        draggable: false,\n        icon: additionalPinIcon,\n      },\n    );\n    additionalMarkers.push(marker);\n    marker.addTo(map).bindPopup(key);\n  });\n};\n\n// функция возврата главной метки  в исходное положение (понадобится в качестве коллбэка при успешной отправке формы)\nconst resetMainPinMarker = () => {\n  mainPinMarker.setLatLng(\n    {\n      lat: MAIN_PIN_LATITUDE,\n      lng: MAIN_PIN_LONGITUDE,\n    },\n  );\n};\n\nexport { initializeMap, addOffersMarkersToMap, resetMainPinMarker };\n","const OFFER_TYPE_INDEX = 0;\nconst OFFER_PRICE_INDEX = 1;\nconst OFFER_ROOMS_INDEX = 2;\nconst OFFER_GUESTS_INDEX = 3;\nconst OFFER_FEATURES_START_INDEX = 4;\nconst LOW_PRICE = 10000;\nconst MIDDLE_PRICE = 50000;\n\nconst template = document.querySelector('#card').content.querySelector('.popup');\n\n// словарь видов размещения\nconst offerTypes = {\n  flat: 'Квартира',\n  bungalow: 'Бунгало',\n  house: 'Дом',\n  palace: 'Дворец',\n};\n\n// функция для проверки присутствия элемента массива удобств в классах элемента списка popup__features\nconst isIncluded = (clonedFeature, generatedFeatures) => generatedFeatures.some((element) => clonedFeature.className.includes(`--${element}`));\n\n// функция для проверки элементов списка popup__features\n// если такого удобства в сгенерированном оффере нет - удаляем лишку нафиг\nconst createFeatures = (clonedFeatures, generatedFeatures) => {\n  clonedFeatures.forEach((clonedFeature) => {\n    if (!isIncluded(clonedFeature, generatedFeatures)) {\n      clonedFeature.remove();\n    }\n  });\n};\n\n// функция для создания элемента img с правильным src\nconst createPhotos = (photosContainer, photoTemplate, photos) => {\n  const fragment = document.createDocumentFragment();\n\n  photos.forEach((photo) => {\n    const popupPhoto = photoTemplate.cloneNode(true);\n    popupPhoto.src = photo;\n    fragment.append(popupPhoto);\n  });\n\n  photoTemplate.remove();\n  photosContainer.append(fragment);\n};\n\n// функция для создания попапа\nconst createPopup = (template, offer) => {\n  const popup = template.cloneNode(true);\n  const popupTitle = popup.querySelector('.popup__title');\n  const popupTextAddress = popup.querySelector('.popup__text--address');\n  const popupTextPrice = popup.querySelector('.popup__text--price');\n  const popupType = popup.querySelector('.popup__type');\n  const popupTextCapacity = popup.querySelector('.popup__text--capacity');\n  const popupTextTime = popup.querySelector('.popup__text--time');\n  const popupFeatures = popup.querySelector('.popup__features').querySelectorAll('li');\n  const popupDescription = popup.querySelector('.popup__description');\n  const popupPhotos = popup.querySelector('.popup__photos');\n  const popupPhotoFirst = popupPhotos.querySelector('.popup__photo');\n  const popupAvatar = popup.querySelector('.popup__avatar');\n\n  const {\n    offer: {\n      title: offerTitle,\n      address: offerAddress,\n      price: offerPrice,\n      type: offerType,\n      rooms: offerRooms,\n      guests: offerGuests,\n      checkin: offerCheckin,\n      checkout: offerCheckout,\n      features: offerFeatures,\n      description: offerDescription,\n      photos: offerPhotos,\n    },\n    author: {\n      avatar: offerAvatar,\n    },\n  } = offer;\n\n  popupTitle.textContent = offerTitle ? offerTitle : popupTitle.remove();\n  popupTextAddress.textContent = offerAddress ? offerAddress : popupTextAddress.remove();\n  popupTextPrice.textContent = offerPrice ? `${offerPrice} \\u20BD/ночь` : popupTextPrice.remove();\n  popupType.textContent = offerTypes[offerType];\n  popupTextCapacity.textContent = offerRooms && offerGuests ? `${offerRooms} комнаты для ${offerGuests} гостей` : popupTextCapacity.remove();\n  popupTextTime.textContent = offerCheckin && offerCheckout ? `Заезд после ${offerCheckin}, выезд до ${offerCheckout}` : popupTextTime.remove();\n  createFeatures(popupFeatures, offerFeatures);\n  popupDescription.textContent = offerDescription ? offerDescription : popupDescription.remove();\n  createPhotos(popupPhotos, popupPhotoFirst, offerPhotos);\n  popupAvatar.src = offerAvatar ? offerAvatar : popupAvatar.remove();\n\n  return popup;\n};\n\n// теперь напишем функцию для строгой фильтрации объявлений (то есть должно быть строгое соответствие фильтрам -\n// при любом несовпадении объявление НЕ выводится)\nconst filterOffers = (offers, filtersValues) => {\n  return offers.filter((offer) => {\n    const { type, price, rooms, guests, features } = offer.offer;\n    let hasAllFiltersValues = true;\n\n    if (filtersValues[OFFER_TYPE_INDEX] !== 'any' && type !== filtersValues[OFFER_TYPE_INDEX]) {\n      hasAllFiltersValues = false;\n    }\n\n    if (filtersValues[OFFER_PRICE_INDEX] === 'low' && Number(price) > LOW_PRICE) {\n      hasAllFiltersValues = false;\n    }\n\n    if (filtersValues[OFFER_PRICE_INDEX] === 'middle' && (Number(price) < LOW_PRICE || Number(price) > MIDDLE_PRICE)) {\n      hasAllFiltersValues = false;\n    }\n\n    if (filtersValues[OFFER_PRICE_INDEX] === 'high' && Number(price) < MIDDLE_PRICE) {\n      hasAllFiltersValues = false;\n    }\n\n    if (filtersValues[OFFER_ROOMS_INDEX] !== 'any' && Number(filtersValues[OFFER_ROOMS_INDEX]) !== Number(rooms)) {\n      hasAllFiltersValues = false;\n    }\n\n    if (filtersValues[OFFER_GUESTS_INDEX] !== 'any' && Number(filtersValues[OFFER_GUESTS_INDEX]) > Number(guests)) {\n      hasAllFiltersValues = false;\n    }\n\n    if (Number(filtersValues[OFFER_GUESTS_INDEX]) === 0 && Number(filtersValues[OFFER_GUESTS_INDEX]) !== Number(guests)) {\n      hasAllFiltersValues = false;\n    }\n\n    // далее проверим наличие удобств (удобства в массиве значений фильтров начинаются с индекса OFFER_FEATURES_START_INDEX\n    if (filtersValues.length > OFFER_FEATURES_START_INDEX) {\n      const localFeatures = filtersValues.slice(OFFER_FEATURES_START_INDEX);\n      localFeatures.forEach((feature) => {\n        if (!features.includes(feature)) {\n          hasAllFiltersValues = false;\n        }\n      });\n    }\n\n    return hasAllFiltersValues;\n  });\n};\n\n// функция для создания попапов с координатами (источник данных может быть как сгенерирован на клиенте, так и получен с сервера)\n// Эта функция создаёт и возвращает мапу (объект типа Map), в которой\n// KEY = HTMLElement (сделанный на основе шаблона попап, готовый к добавлению в балун метки карты)\n// VALUE = объект с координатами, которые мы используем для правильного размещения меток объявлений на карте\nconst createMapOfPopupsWithCoordinates = (offers) => {\n  const popupsWithCoordinates = new Map();\n  offers.forEach((offer) => {\n    const popup = createPopup(template, offer);\n    const location = offer.location;\n    popupsWithCoordinates.set(popup, location);\n  });\n\n  return popupsWithCoordinates;\n};\n\nexport { filterOffers, createMapOfPopupsWithCoordinates };\n","// точка входа, связывающая другие модули\nimport debounce from 'lodash/debounce';\nimport { getFixedLengthArrayOfRandomElements } from './util.js';\nimport {\n  initializeForms,\n  enableAdForm,\n  enableMapFiltersForm,\n  addMapFiltersChangeHandler,\n  getFiltersValues,\n  disableForms,\n  initializeAddressInputField,\n  addMarkerMoveEndHandler,\n  addAdFormSubmitHandler,\n  addAdFormResetHandler,\n  resetForms\n} from './forms.js';\nimport { initializeMap, addOffersMarkersToMap, resetMainPinMarker } from './map.js';\nimport { filterOffers, createMapOfPopupsWithCoordinates } from './similar-objects.js';\nimport { getDataFromServer, sendDataToServer, showAlert, showSuccessMessage, showFailMessage } from './server-api.js';\n\nconst OFFERS_COUNT = 10;\nconst TIMEOUT = 0;\nconst DEBOUNCE_DELAY = 500;\nlet offers;\n\n// теперь попробуем собрать из этих кубиков работающую программу\ninitializeForms();\ndisableForms();\nconst [map, mainPinMarker] = initializeMap();\nmap.whenReady(() => {\n  enableAdForm();\n  addAdFormResetHandler(() => {\n    resetMainPinMarker();\n    setTimeout(() =>\n      initializeAddressInputField(mainPinMarker), TIMEOUT);\n  });\n  initializeAddressInputField(mainPinMarker);\n  addMarkerMoveEndHandler(mainPinMarker);\n  addAdFormSubmitHandler((form) => {\n    sendDataToServer(\n      () => {\n        showSuccessMessage();\n        resetForms();\n        resetMainPinMarker();\n        setTimeout(() =>\n          initializeAddressInputField(mainPinMarker), TIMEOUT);\n      },\n      () => showFailMessage(),\n      form);\n  });\n  getDataFromServer(\n    (json) => {\n      addMapFiltersChangeHandler(debounce(() => {\n        const filtersValues = getFiltersValues();\n        const filteredOffers = filterOffers(offers, filtersValues);\n        const mapOfPopups = createMapOfPopupsWithCoordinates(filteredOffers);\n        addOffersMarkersToMap(mapOfPopups, map);\n      }, DEBOUNCE_DELAY));\n      enableMapFiltersForm();\n      return json;\n    },\n    () => showAlert('При получении данных с сервера произошла ошибка'),\n  )\n    .then(json => {\n      offers = json;\n      const randomOffers = getFixedLengthArrayOfRandomElements(offers, OFFERS_COUNT);\n      return createMapOfPopupsWithCoordinates(randomOffers);\n    })\n    .then(popupsWithCoordinates => addOffersMarkersToMap(popupsWithCoordinates, map));\n});\n","const ALERT_SHOW_TIME = 5000;\nconst ALERT_ZINDEX = 100;\nconst ALERT_POSITION = 'absolute';\nconst ALERT_POSITION_LEFT = 0;\nconst ALERT_POSITION_TOP = 0;\nconst ALERT_POSITION_RIGHT = 0;\nconst ALERT_PADDING = '10px 3px';\nconst ALERT_FONTSIZE = '30px';\nconst ALERT_TEXTALIGN = 'center';\nconst ALERT_BACKGROUNDCOLOR = 'red';\n\n// Для взаимодействия с сервером напишем 2 отдельные функции\n// 1) Функция получения данных с сервера (она будет возвращать JSON - массив объектов)\nconst getDataFromServer = (onSuccess, onFail) => {\n  return fetch(\n    'https://22.javascript.pages.academy/keksobooking/data',\n    {\n      method: 'GET',\n      credentials: 'same-origin',\n    },\n  )\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      throw new Error(`${response.status} ${response.statusText}`);\n    })\n    .then(json => onSuccess(json))\n    .catch(err => onFail(err));\n};\n\n// 2) Функция отправки данных на сервер\nconst sendDataToServer = (onSuccess, onFail, form) => {\n  fetch(\n    'https://22.javascript.pages.academy/keksobooking',\n    {\n      method: 'POST',\n      credentials: 'same-origin',\n      body: new FormData(form),\n    },\n  )\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      throw new Error(`${response.status} ${response.statusText}`);\n    })\n    .then(() => onSuccess())\n    .catch(() => onFail());\n};\n\n// при успешной отправке объявления будем рендерить соответствующее сообщение на странице согласно ТЗ\nconst showSuccessMessage = () => {\n  const mainContainer = document.querySelector('main');\n  const successMessageTemplate = document.querySelector('#success').content.querySelector('.success');\n  const successMessage = successMessageTemplate.cloneNode(true);\n  mainContainer.appendChild(successMessage);\n\n  // сразу при создании сообщения повесим на всё окно обработчик на click и Escape\n  // для того, чтобы пользователь мог скрыть сообщение\n  document.addEventListener('click', () => {\n    successMessage.remove();\n  });\n  document.addEventListener('keydown', (evt) => {\n    if (evt.key === 'Escape') {\n      successMessage.remove();\n    }\n  });\n};\n\n// при неудачной отправке объявления будем рендерить соответствующее сообщение на странице согласно ТЗ\nconst showFailMessage = () => {\n  const mainContainer = document.querySelector('main');\n  const failMessageTemplate = document.querySelector('#error').content.querySelector('.error');\n  const failMessage = failMessageTemplate.cloneNode(true);\n  const errorButton = failMessage.querySelector('.error__button');\n  mainContainer.appendChild(failMessage);\n\n  // сразу при создании сообщения повесим на всё окно обработчик на click и Escape, а также на click по специальной кнопке\n  // для того, чтобы пользователь мог скрыть сообщение\n  document.addEventListener('click', () => {\n    failMessage.remove();\n  });\n  document.addEventListener('keydown', (evt) => {\n    if (evt.key === 'Escape') {\n      failMessage.remove();\n    }\n  });\n  errorButton.addEventListener('click', () => {\n    failMessage.remove();\n  });\n};\n\n// при ошибке получения данных будем рендерить красную полоску\n// с текстом \"При работе с сервером произошла ошибка\"\nconst showAlert = (message) => {\n  const alertContainer = document.createElement('div');\n  alertContainer.style.zIndex = ALERT_ZINDEX;\n  alertContainer.style.position = ALERT_POSITION;\n  alertContainer.style.left = ALERT_POSITION_LEFT;\n  alertContainer.style.top = ALERT_POSITION_TOP;\n  alertContainer.style.right = ALERT_POSITION_RIGHT;\n  alertContainer.style.padding = ALERT_PADDING;\n  alertContainer.style.fontSize = ALERT_FONTSIZE;\n  alertContainer.style.textAlign = ALERT_TEXTALIGN;\n  alertContainer.style.backgroundColor = ALERT_BACKGROUNDCOLOR;\n\n  alertContainer.textContent = message;\n\n  document.body.append(alertContainer);\n\n  setTimeout(() => {\n    alertContainer.remove();\n  }, ALERT_SHOW_TIME);\n};\n\nexport { getDataFromServer, sendDataToServer, showAlert, showSuccessMessage, showFailMessage };\n"],"sourceRoot":""}